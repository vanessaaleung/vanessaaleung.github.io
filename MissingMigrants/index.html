<!DOCTYPE html>
<html>
<head>
	<title>Missing Migrants Project</title>
	<link rel="stylesheet" href="styles.css">
	<script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body> 
	<header class="page-header">
		<div class="header-wrapper">
			<h3>Vanessa Liang</h3>
			<div class="social-links">
				<a class="social share-linkedin" id="linkedin-sharer" href="https://www.linkedin.com/in/vanessaaleung/" target="_blank">
					<div class="icon icon-linkedin"  style="padding-right: 10px">
						<img class="grayscale" src="linkedin.png" height="20px">
					</div>
				</a>
				<a class="social share-medium" id="medium-sharer" href="#" target="_blank">
					<div class="icon icon-medium">
						<img class="grayscale" src="medium.png" height="25px">
					</div>
				</a>
			</div>
		</div>
	</header>
	<div id="header-spacer"></div>
	<div class="container">
		<div id = "intro">
			<h1>Missing Migrants Project</h1>
			<h2 class="article-subtitle">Data recorded between January 2014 and March 2019</h2>
			<p class = "byline">By <a href="https://www.linkedin.com/in/vanessaaleung/">Vanessa Liang</a></p>
		</div>
	</div>
	<div id="intro-spacer"></div>
	<p class="article-text">
		<!-- <img class="static-image" src="Loc_Dash.png"> -->                       
	</p> 
	<div class ="article-text" id="map-holder">
		<!-- <select id="selectButton"></select> -->
		<!-- <svg id="Map"></svg> -->
		<div class='tableauPlaceholder' id='viz1575664735578' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Mi&#47;MissingMigrants_15736767680010&#47;Loc_Dash&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='MissingMigrants_15736767680010&#47;Loc_Dash' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Mi&#47;MissingMigrants_15736767680010&#47;Loc_Dash&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1575664735578');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.width='650px';vizElement.style.height='527px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='650px';vizElement.style.height='527px';} else { vizElement.style.width='100%';vizElement.style.height='727px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
	</div>
	<div class = "container">
	   <p class="article-text">Missing Migrants Project tracks deaths of migrants, including refugees and asylum-seekers, who have gone missing along mixed migration routes worldwide. The research behind this project began with the October 2013 tragedies, when at least 368 individuals died in two shipwrecks near the Italian island of Lampedusa. Since then, Missing Migrants Project has developed into an important hub and advocacy source of information that media, researchers, and the general public access for the latest information.</p>
	   <p class="article-text">The above map displays the regional distribution of the incidents in the past five years. </p>
	   <p class="article-text">
			<img class="static-image" src="Region_Dash.png">
	   </p>
	   <p class="article-text">Mediterranean stands out; North Africa, Southeast Asia, US-Mexico Border and Sbu-saharan Afraica top the list. The conflicts in Africa and the Middle East, particularly the war in Syria, have kept the migration rate high in Mediterranean. After Mediterranean, the region that features most heavily is <a href="https://en.wikipedia.org/wiki/African_immigration_to_Europe">North Africa</a>, particularly Libya, which is the major departure point for illegal migrants setting off for Europe.</p>
	   <p class="article-text">
			<img class="static-image" src="Routes_Dash.png">
		<p class="article-text"><a href="https://www.unhcr.org/5aa78775c.pdf">Central Mediterran route</a>, from Sub-Saharan Africa to Italy, which is known as the deadiest migration route, topped the list of routes with most incidents. Many died on the way crossing the desert and went missing in the sea. Central America, composing of El Salvador, Guatemala, and Honduras, ranked second in the list. Extreme socioeconomic inequality, natural disasters and poor governance, are the <a href="https://fas.org/sgp/crs/row/IF11151.pdf">root causes</a> of the migration routes. The <a href="https://www.consilium.europa.eu/en/policies/migratory-pressures/eastern-mediterranean-route/">Eastern Mediterranean route</a> refers to the sea crossing from Turkey to Greece. Refugees seeking shelter from Syria's war to the EU via this route. </p>
	   <p class="article-text">
			<img class="static-image"src="Gender_Dash.png">
	   <p class="article-text"> The number of dead and missing rose sharply from 2014 to 2015, and experienced an significant increase in 2017. When breaking down the number to gender, the number of males victims was almost three times higher than the one of females.</p>
	   <p class="article-text">Differing death and missing migrants figures among regions is only part of the story this data tells - we can also use it to determine how common a cause of death is.</p>
		<p class="article-text">
			<img class="static-image" src="Cause_Dash.png">
		</>
	   <p class="article-text">As Mediterran route is the most active and deadiest route, it is obvious that drowning is the major cause of the tragics. Followed are sickness, vehicle accident, and mix of multiple causes.</p>
	</div>
	<div class="article-text">
		<div id="footer">
			<div class="sources">
				<p>Source: 
					<span>
						<a href="https://www.kaggle.com/snocco/missing-migrants-project">Missing Migrants Project</a>
					</span>
				</p>
			</div>
		</div>
	</div>
	<div class="site-footer js">
		<div class="site-wrapper footer-main-content">
			<div class="footer-section-get-more">Check out more of my work</div>
			<div class="footer-section-primary-links">
				<ul class="footer-menu">
					<li class="footer-menu-item">
						<a href="https://www.linkedin.com/in/vanessaaleung/">LinkedIn</a>
					</li>
					<li class="footer-menu-item">
						<a href="https://medium.com/@vanessaaleung">Medium</a>
					</li>
					<li class="footer-menu-item">
						<a href="https://public.tableau.com/profile/vanessaaleung#!/">Tableau</a>
					</li>
				</ul>
			</div>
		</div>
	</div>                                     
</body>
<script>
	let store = {}
	function loadData(){
		return Promise.all([
			d3.json("https://raw.githubusercontent.com/vanessaaleung/rawdata/master/countries.geo.json"),
			d3.csv("https://raw.githubusercontent.com/vanessaaleung/rawdata/master/MissingMigrants-Global-2019-03-29T18-36-07.csv")
			]).then(datasets => {
				store.geoJSON = datasets[0]
				store.missing = datasets[1]
				return store;
		})
	}

	function getMapConfig(){
      let width = 600;
      let height = 400;
      let container = d3.select("#Map")
            .attr("width", width)
            .attr("height", height)
      return {width, height, container}
    }

    function getMapProjection(config) {
      let {width, height} = config;
      let projection = d3.geoMercator()
      projection.scale(97)
                .translate([width / 2, height / 2 + 20])
                
      store.mapProjection = projection;
      return projection;
    }

    function drawBaseMap(container, countries, projection){
      let path = d3.geoPath().projection(projection);
      container.selectAll("path").data(countries)
          .enter().append("path")
          .attr("d", d => path(d))
          .attr("stroke", "#525252")
          .attr("stroke-width", 0.1)
          .attr("fill", "#EAEAEA")
    }

    function drawMap(geoJson) {
        let config = getMapConfig();
        let projection = getMapProjection(config)
        drawBaseMap(config.container, geoJson.features, projection)
    }

    function reduceData(data){
    	let result = data.reduce((result, d) => {
    		let currentPoint = {
    			"ID": d.ID,
    			"Latitude": +d.Lat,
    			"Longitude": +d.Long,
    			"Missing": d.Total_Dead_Missing,
    			"Year": d.Reported_Year 
    		}
    		result[d.ID] = currentPoint
    		return result
    	})

    	result = Object.keys(result).map(key => result[key])
    	return result
    }

	function drawMissingPoint(selectedOption){
		let config = getMapConfig();
		let projection = getMapProjection(config)
		let container = config.container;
		
		let missing = reduceData(store.missing);
		
		if (selectedOption === null){
			var dataFilter = missing
		}
		else{
			var dataFilter = missing.filter(function(d){return d.Year==selectedOption})

		}
		
		var circles = container.selectAll("circle").data(dataFilter);
		
		circles
		    .enter()
		    .append("circle")
		    .attr("r", 3)
		    .attr("cx", d => projection([+d.Longitude, +d.Latitude])[0])
		    .attr("cy", d => projection([+d.Longitude, +d.Latitude])[1])
		    .attr("fill", "#F3D06A");

		circles.exit().remove()

	}

    function dropDown(data){
    	var nest = d3.nest()
					  .key(function(d) { return d.Year;})
					  .entries(data);
    	d3.select("#selectButton")
    		.selectAll("myOptions")
    		.data(nest)
    		.enter()
    		.append("option")
    		.text(d => d.key)
    		.attr("value", function(d){
    			return d.key;
    		})

    	d3.select("#selectButton").on("change", function(d){
    		var selectedOption = d3.select(this).property("value")
    	drawMissingPoint(selectedOption)
    	})
    }


	function showData(){
		drawMap(store.geoJSON)
		let missing = reduceData(store.missing);
		drawMissingPoint(null)
		dropDown(missing)
	}
	loadData().then(showData);
</script>

</html>              



